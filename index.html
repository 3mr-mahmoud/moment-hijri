<!doctype html>
<html lang="ar-SA">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Hijri test</title>
	<script src="assets/jquery.min.js"></script>
	<script src="node_modules/moment/min/moment.min.js"></script>
	<script src="node_modules/moment/min/langs.min.js"></script>
	<script src="moment-hijri.js"></script>
	<link rel="stylesheet"  href="assets/foundation.min.css" />
</head>

<body>
	<table id="dateTable">
		<thead>
			<!--console.log('S	Hijri Date    Gregorian Date	Hijri Date-1	Delta	Sunset Start	Sunset	Moon');-->
			<tr>
				<th>s</th>
				<th width="150">Hijri Date</th>
				<th width="150">Hijri Date-1</th>
				<th width="150">Gregorian Date</th>
				<th width="150">Delta</th>
				<th width="150">Sunset Start</th>
				<th width="200">Sunset</th>
				<th>عمر الهلال</th>
				<th>الإرتفاع الزاوي لبداية الغروب</th>
				<th>الإرتفاع الزاوي للغروب</th>
				<th >الارتفاع الزاوي للقمر</th>
			</tr>
		</thead>
		<tbody>
		</tbody>
	</table>
	
	<script >
	 $(function () {
		 var m = moment("01-01-2001", "DD-MM-YYYY");
		 //console.log(m.format('jDD/jMM/jYYYY    DD/MM/YYYYY'));

		 printAllUmmAlquraDataToTable2()
		 //printAllUmmAlquraDataToTable();
	 });
	
	</script>
	
	
	
	
	
	<script>
	
		var lat=21.416667//21.422482
			, long = 39.816667;//39.826207;
		
	var PI   = Math.PI,
    sin  = Math.sin,
    cos  = Math.cos,
    tan  = Math.tan,
    asin = Math.asin,
    atan = Math.atan2,
    acos = Math.acos,
    rad  = PI / 180;

// sun calculations are based on http://aa.quae.nl/en/reken/zonpositie.html formulas


// date/time constants and conversions

var dayMs = 1000 * 60 * 60 * 24,
    J1970 = 2440588,
    J2000 = 2451545;

function toJulian(date) {
    return date.valueOf() / dayMs - 0.5 + J1970;
}
function fromJulian(j) {
    return new Date((j + 0.5 - J1970) * dayMs);
}
function toDays(date) {
    return toJulian(date) - J2000;
}


// general calculations for position

var e = rad * 23.4397; // obliquity of the Earth

function getRightAscension(l, b) {
    return atan(sin(l) * cos(e) - tan(b) * sin(e), cos(l));
}
function getDeclination(l, b) {
    return asin(sin(b) * cos(e) + cos(b) * sin(e) * sin(l));
}
function getAzimuth(H, phi, dec) {
    //return atan(sin(H), cos(H) * sin(phi) - tan(dec) * cos(phi));
	return PI + atan(sin(H), cos(H) * sin(phi) - tan(dec) * cos(phi));
}
function getAltitude(H, phi, dec) {
    return asin(sin(phi) * sin(dec) + cos(phi) * cos(dec) * cos(H));
}
function getSiderealTime(d, lw) {
    return rad * (280.16 + 360.9856235 * d) - lw;
}


// general sun calculations

function getSolarMeanAnomaly(d) {
    return rad * (357.5291 + 0.98560028 * d);
}
function getEquationOfCenter(M) {
    return rad * (1.9148 * sin(M) + 0.02 * sin(2 * M) + 0.0003 * sin(3 * M));
}
function getEclipticLongitude(M, C) {
    var P = rad * 102.9372; // perihelion of the Earth
    return M + C + P + PI;
}
function getSunCoords(d) {

    var M = getSolarMeanAnomaly(d),
        C = getEquationOfCenter(M),
        L = getEclipticLongitude(M, C);

    return {
        dec: getDeclination(L, 0),
        ra: getRightAscension(L, 0)
    };
}
function getMoonCoords(d) { // geocentric ecliptic coordinates of the moon

    var L = rad * (218.316 + 13.176396 * d), // ecliptic longitude
        M = rad * (134.963 + 13.064993 * d), // mean anomaly
        F = rad * (93.272 + 13.229350 * d),  // mean distance

        l  = L + rad * 6.289 * sin(M), // longitude
        b  = rad * 5.128 * sin(F),     // latitude
        dt = 385001 - 20905 * cos(M);  // distance to the moon in km

    return {
        ra: getRightAscension(l, b),
        dec: getDeclination(l, b),
        dist: dt
    };
}
	</script>
</body>

</html>